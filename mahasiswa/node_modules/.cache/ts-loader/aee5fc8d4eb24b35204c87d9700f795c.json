{"remainingRequest":"C:\\Users\\Elvan\\Documents\\GitHub\\web\\vue-typescript\\node_modules\\ts-loader\\index.js??ref--12-1!C:\\Users\\Elvan\\Documents\\GitHub\\web\\vue-typescript\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Elvan\\Documents\\GitHub\\web\\vue-typescript\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Elvan\\Documents\\GitHub\\web\\vue-typescript\\src\\views\\Login.vue?vue&type=script&lang=ts&","dependencies":[{"path":"C:\\Users\\Elvan\\Documents\\GitHub\\web\\vue-typescript\\src\\views\\Login.vue","mtime":1608262355835},{"path":"C:\\Users\\Elvan\\Documents\\GitHub\\web\\vue-typescript\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Elvan\\Documents\\GitHub\\web\\vue-typescript\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\Elvan\\Documents\\GitHub\\web\\vue-typescript\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Elvan\\Documents\\GitHub\\web\\vue-typescript\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgX19kZWNvcmF0ZSwgX19leHRlbmRzIH0gZnJvbSAidHNsaWIiOw0KaW1wb3J0IHsgZ2V0IH0gZnJvbSAibG9kYXNoIjsNCmltcG9ydCB7IENvbXBvbmVudCwgVnVlIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcic7DQppbXBvcnQgQXhpb3MgZnJvbSAnYXhpb3MnOw0KaW1wb3J0IExpYnJhcnlVc2VyIGZyb20gJy4uL2VudGl0eS9MaWJyYXJ5VXNlcic7DQppbXBvcnQgU3RhdHVzQ29kZSBmcm9tICcuLi9jb21tb24vU3RhdHVzQ29kZSc7DQppbXBvcnQgU2Vzc2lvbiBmcm9tICcuLi9jb21tb24vU2Vzc2lvbic7DQp2YXIgSG9tZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsNCiAgICBfX2V4dGVuZHMoSG9tZSwgX3N1cGVyKTsNCiAgICBmdW5jdGlvbiBIb21lKCkgew0KICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsNCiAgICAgICAgX3RoaXMudXNlciA9IG5ldyBMaWJyYXJ5VXNlcigpOw0KICAgICAgICBfdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgcmV0dXJuIF90aGlzOw0KICAgIH0NCiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSG9tZS5wcm90b3R5cGUsICJpc1JlZ2lzdGVyIiwgew0KICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5xdWVyeS5yZWdpc3RlciA9PT0gInRydWUiOw0KICAgICAgICB9LA0KICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSwNCiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlDQogICAgfSk7DQogICAgSG9tZS5wcm90b3R5cGUuZG9SZXNldCA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgdGhpcy51c2VyID0gbmV3IExpYnJhcnlVc2VyKCk7DQogICAgfTsNCiAgICBIb21lLnByb3RvdHlwZS5kb1N1Ym1pdCA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgdmFyIF90aGlzID0gdGhpczsNCiAgICAgICAgaWYgKCF0aGlzLmlzTG9hZGluZykgew0KICAgICAgICAgICAgdmFyIHZhbGlkID0gdGhpcy51c2VyLnVzZXJuYW1lICE9PSAiIiAmJiB0aGlzLnVzZXIucGFzc3dvcmQgIT09ICIiOw0KICAgICAgICAgICAgaWYgKHRoaXMuaXNSZWdpc3Rlcikgew0KICAgICAgICAgICAgICAgIHZhbGlkID0gdmFsaWQgJiYgdGhpcy51c2VyLnByb2ZpbGVOYW1lICE9PSAiIjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICh2YWxpZCkgew0KICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICB2YXIgYmFzZUFwaSA9ICJodHRwOi8vMjAyLjE1Mi4xNTkuMTY0OjgwODgvcGVycHVzLyI7DQogICAgICAgICAgICAgICAgdmFyIHVybCA9IGJhc2VBcGkgKyAiYXV0aC8iICsgKHRoaXMuaXNSZWdpc3RlciA/ICdkby1yZWdpc3RlcicgOiAnZG8tbG9naW4nKTsNCiAgICAgICAgICAgICAgICBBeGlvcy5wb3N0KHVybCwgdGhpcy51c2VyLnNlcmlhbGl6ZSgpLCB7IHJlc3BvbnNlVHlwZTogJ2pzb24nIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChnZXQocmVzcG9uc2UsICJkYXRhLnN0YXR1cyIpID09PSBTdGF0dXNDb2RlLlNBVkVfU1VDQ0VTUykgew0KICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCIvIik7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ2V0KHJlc3BvbnNlLCAiZGF0YS5zdGF0dXMiKSA9PT0gU3RhdHVzQ29kZS5MT0dJTl9TVUNDRVNTKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBTZXNzaW9uLnNldChMaWJyYXJ5VXNlci5JbnN0YW5jZUZyb20ocmVzcG9uc2UuZGF0YS5kYXRhKSk7DQogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goIi9ob21lIik7DQogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy4kbm90aWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cDogJ3VzZXJOb3RpZmljYXRpb24nLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnTG9naW4gU3VjY2VzcyEnDQogICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgew0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsNCiAgICAgICAgICAgICAgICAgICAgX3RoaXMuJG5vdGlmeSh7DQogICAgICAgICAgICAgICAgICAgICAgICBncm91cDogJ3VzZXJOb3RpZmljYXRpb24nLA0KICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdDb25uZWN0aW9uIEZhaWxlZCEnDQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICBfdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH07DQogICAgSG9tZSA9IF9fZGVjb3JhdGUoWw0KICAgICAgICBDb21wb25lbnQNCiAgICBdLCBIb21lKTsNCiAgICByZXR1cm4gSG9tZTsNCn0oVnVlKSk7DQpleHBvcnQgZGVmYXVsdCBIb21lOw0K"},{"version":3,"file":"C:\\Users\\Elvan\\Documents\\GitHub\\web\\vue-typescript\\src\\views\\Login.vue.ts","sourceRoot":"","sources":["C:\\Users\\Elvan\\Documents\\GitHub\\web\\vue-typescript\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Elvan\\Documents\\GitHub\\web\\vue-typescript\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Elvan\\Documents\\GitHub\\web\\vue-typescript\\src\\views\\Login.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";AAwBA,OAAO,EAAC,GAAG,EAAC,MAAM,QAAQ,CAAC;AAC3B,OAAO,EAAE,SAAS,EAAE,GAAG,EAAE,MAAM,wBAAwB,CAAC;AACxD,OAAO,KAAkC,MAAM,OAAO,CAAC;AAEvD,OAAO,WAAW,MAAM,uBAAuB,CAAC;AAChD,OAAO,UAAU,MAAM,sBAAsB,CAAC;AAC9C,OAAO,OAAO,MAAM,mBAAmB,CAAC;AAGxC;IAAkC,wBAAG;IAArC;QAAA,qEAsDC;QApDQ,UAAI,GAAgB,IAAI,WAAW,EAAE,CAAC;QAEtC,eAAS,GAAY,KAAK,CAAC;;IAkDpC,CAAC;IAhDC,sBAAW,4BAAU;aAArB;YACE,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,KAAK,MAAM,CAAC;QAC/C,CAAC;;;OAAA;IAEM,sBAAO,GAAd;QACE,IAAI,CAAC,IAAI,GAAG,IAAI,WAAW,EAAE,CAAC;IAChC,CAAC;IAEM,uBAAQ,GAAf;QAAA,iBAuCC;QAtCC,IAAG,CAAC,IAAI,CAAC,SAAS,EAAE;YAClB,IAAI,KAAK,GAAW,IAAI,CAAC,IAAI,CAAC,QAAQ,KAAK,EAAE,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,KAAK,EAAE,CAAC;YAE3E,IAAG,IAAI,CAAC,UAAU,EAAE;gBAClB,KAAK,GAAG,KAAK,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,KAAK,EAAE,CAAC;aAC/C;YAED,IAAG,KAAK,EAAE;gBACR,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;gBAEtB,IAAM,OAAO,GAAW,qCAAqC,CAAC;gBAC9D,IAAM,GAAG,GAAc,OAAO,cAAQ,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,UAAU,CAAE,CAAE;gBAEtF,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,EAAE,EAAC,YAAY,EAAE,MAAM,EAAC,CAAC,CAAC,IAAI,CAAC,UAAC,QAAuB;oBAC1F,IAAG,GAAG,CAAC,QAAQ,EAAE,aAAa,CAAC,KAAK,UAAU,CAAC,YAAY,EAAE;wBAC3D,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;qBACxB;yBAAM,IAAI,GAAG,CAAC,QAAQ,EAAE,aAAa,CAAC,KAAK,UAAU,CAAC,aAAa,EAAE;wBACpE,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;wBAE1D,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;wBAE3B,KAAI,CAAC,OAAO,CAAC;4BACT,KAAK,EAAE,kBAAkB;4BACzB,KAAK,EAAE,gBAAgB;yBAC1B,CAAC,CAAC;qBACJ;gBACH,CAAC,CAAC,CAAC,KAAK,CAAC,UAAC,KAAiB;oBACzB,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;oBAErB,KAAI,CAAC,OAAO,CAAC;wBACP,KAAK,EAAE,kBAAkB;wBACzB,KAAK,EAAE,oBAAoB;qBAC9B,CAAC,CAAC;gBACP,CAAC,CAAC,CAAC,OAAO,CAAC;oBACT,KAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gBACzB,CAAC,CAAC,CAAA;aACH;SACF;IACH,CAAC;IArDkB,IAAI;QADxB,SAAS;OACW,IAAI,CAsDxB;IAAD,WAAC;CAAA,AAtDD,CAAkC,GAAG,GAsDpC;eAtDoB,IAAI","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport {get} from \"lodash\";\r\nimport { Component, Vue } from 'vue-property-decorator';\r\nimport Axios, {AxiosResponse, AxiosError} from 'axios';\r\n\r\nimport LibraryUser from '../entity/LibraryUser';\r\nimport StatusCode from '../common/StatusCode';\r\nimport Session from '../common/Session';\r\n\r\n@Component\r\nexport default class Home extends Vue {\r\n\r\n  public user: LibraryUser = new LibraryUser();\r\n\r\n  public isLoading: boolean = false;\r\n\r\n  public get isRegister() {\r\n    return this.$route.query.register === \"true\";\r\n  }\r\n\r\n  public doReset() {\r\n    this.user = new LibraryUser();\r\n  }\r\n\r\n  public doSubmit() {\r\n    if(!this.isLoading) {\r\n      let valid:boolean = this.user.username !== \"\" && this.user.password !== \"\";\r\n\r\n      if(this.isRegister) {\r\n        valid = valid && this.user.profileName !== \"\";\r\n      }\r\n\r\n      if(valid) {\r\n        this.isLoading = true;\r\n\r\n        const baseApi: string = \"http://202.152.159.164:8088/perpus/\";\r\n        const url: string = `${baseApi}auth/${this.isRegister ? 'do-register' : 'do-login'}` ;\r\n\r\n        Axios.post(url, this.user.serialize(), {responseType: 'json'}).then((response: AxiosResponse) => {\r\n          if(get(response, \"data.status\") === StatusCode.SAVE_SUCCESS) {\r\n            this.$router.push(\"/\");\r\n          } else if (get(response, \"data.status\") === StatusCode.LOGIN_SUCCESS) {\r\n            Session.set(LibraryUser.InstanceFrom(response.data.data));\r\n\r\n            this.$router.push(\"/home\");\r\n\r\n            this.$notify({\r\n                group: 'userNotification',\r\n                title: 'Login Success!'\r\n            });\r\n          }\r\n        }).catch((error: AxiosError) => {\r\n          console.error(error);\r\n\r\n          this.$notify({\r\n                group: 'userNotification',\r\n                title: 'Connection Failed!'\r\n            });\r\n        }).finally(() => {\r\n          this.isLoading = false;\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n"]}]}