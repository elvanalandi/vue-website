{"remainingRequest":"C:\\Users\\Elvan\\Documents\\GitHub\\web\\vue-typescript\\node_modules\\ts-loader\\index.js??ref--12-1!C:\\Users\\Elvan\\Documents\\GitHub\\web\\vue-typescript\\src\\router\\index.ts","dependencies":[{"path":"C:\\Users\\Elvan\\Documents\\GitHub\\web\\vue-typescript\\src\\router\\index.ts","mtime":1608179880519},{"path":"C:\\Users\\Elvan\\Documents\\GitHub\\web\\vue-typescript\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Elvan\\Documents\\GitHub\\web\\vue-typescript\\node_modules\\ts-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFNlc3Npb24gZnJvbSAnQC9jb21tb24vU2Vzc2lvbic7DQppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7DQppbXBvcnQgVnVlUm91dGVyIGZyb20gJ3Z1ZS1yb3V0ZXInOw0KaW1wb3J0IEhvbWUgZnJvbSAnLi4vdmlld3MvSG9tZS52dWUnOw0KVnVlLnVzZShWdWVSb3V0ZXIpOw0KdmFyIHJvdXRlcyA9IFsNCiAgICB7DQogICAgICAgIHBhdGg6ICcvJywNCiAgICAgICAgbmFtZTogJ0hvbWUnLA0KICAgICAgICBjb21wb25lbnQ6IEhvbWUNCiAgICB9LA0KICAgIHsNCiAgICAgICAgcGF0aDogJy9hYm91dCcsDQogICAgICAgIG5hbWU6ICdBYm91dCcsDQogICAgICAgIC8vIHJvdXRlIGxldmVsIGNvZGUtc3BsaXR0aW5nDQogICAgICAgIC8vIHRoaXMgZ2VuZXJhdGVzIGEgc2VwYXJhdGUgY2h1bmsgKGFib3V0LltoYXNoXS5qcykgZm9yIHRoaXMgcm91dGUNCiAgICAgICAgLy8gd2hpY2ggaXMgbGF6eS1sb2FkZWQgd2hlbiB0aGUgcm91dGUgaXMgdmlzaXRlZC4NCiAgICAgICAgY29tcG9uZW50OiBmdW5jdGlvbiAoKSB7IHJldHVybiBpbXBvcnQoLyogd2VicGFja0NodW5rTmFtZTogImFib3V0IiAqLyAnLi4vdmlld3MvQWJvdXQudnVlJyk7IH0NCiAgICB9LA0KICAgIHsNCiAgICAgICAgcGF0aDogJy9sb2dpbicsDQogICAgICAgIG5hbWU6ICdMb2dpbicsDQogICAgICAgIGNvbXBvbmVudDogZnVuY3Rpb24gKCkgeyByZXR1cm4gaW1wb3J0KC8qIHdlYnBhY2tDaHVua05hbWU6ICJhYm91dCIgKi8gJy4uL3ZpZXdzL0xvZ2luLnZ1ZScpOyB9DQogICAgfSwNCiAgICB7DQogICAgICAgIHBhdGg6ICcvcmVnaXN0ZXInLA0KICAgICAgICBuYW1lOiAnUmVnaXN0ZXInLA0KICAgICAgICBjb21wb25lbnQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGltcG9ydCgvKiB3ZWJwYWNrQ2h1bmtOYW1lOiAiYWJvdXQiICovICcuLi92aWV3cy9SZWdpc3Rlci52dWUnKTsgfQ0KICAgIH0NCl07DQp2YXIgcm91dGVyID0gbmV3IFZ1ZVJvdXRlcih7DQogICAgbW9kZTogJ2hpc3RvcnknLA0KICAgIGJhc2U6IHByb2Nlc3MuZW52LkJBU0VfVVJMLA0KICAgIHJvdXRlczogcm91dGVzDQp9KTsNCnJvdXRlci5iZWZvcmVFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgew0KICAgIHZhciB2YWxpZGF0ZSA9IGZ1bmN0aW9uIChyZWNvcmQsIGtleSkgew0KICAgICAgICByZWNvcmQgPSByZWNvcmQgPT09IG51bGwgPyB0byA6IHJlY29yZDsNCiAgICAgICAgcmV0dXJuIHR5cGVvZiByZWNvcmQubWV0YVtrZXldID09PSAiZnVuY3Rpb24iID8gcmVjb3JkLm1ldGFba2V5XSh0bykgOiByZWNvcmQubWV0YVtrZXldOw0KICAgIH07DQogICAgdmFyIHJlcXVpcmVkQXV0aCA9IHRvLm1hdGNoZWQuc29tZShmdW5jdGlvbiAocikgeyByZXR1cm4gdmFsaWRhdGUociwgInJlcXVpcmVkQXV0aCIpOyB9KTsNCiAgICB2YXIgZGVuaWVkQXV0aCA9IHRvLm1hdGNoZWQuc29tZShmdW5jdGlvbiAocikgeyByZXR1cm4gdmFsaWRhdGUociwgImRlbmllZEF1dGgiKTsgfSk7DQogICAgLy8gaWYobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2N1cnJlbnRVc2VyJykgIT0gbnVsbCl7DQogICAgLy8gICBsb2dnZWRJbiA9IHRydWU7DQogICAgLy8gfWVsc2V7DQogICAgLy8gICBsb2dnZWRJbiA9IGZhbHNlOw0KICAgIC8vIH0NCiAgICAvLyBpZih0by5uYW1lID09ICdMb2dpbicgJiYgbG9nZ2VkSW4pew0KICAgIC8vICAgbmV4dCh7bmFtZTogJ0hvbWUnfSk7DQogICAgLy8gfWVsc2V7DQogICAgLy8gICBuZXh0KCk7DQogICAgLy8gfQ0KICAgIGlmIChyZXF1aXJlZEF1dGggJiYgIVNlc3Npb24uaXNMb2dpbigpKSB7DQogICAgICAgIHJldHVybiBuZXh0KHsgcGF0aDogIi9sb2dpbiIgfSk7DQogICAgfQ0KICAgIGVsc2UgaWYgKFNlc3Npb24uaXNMb2dpbigpICYmIGRlbmllZEF1dGgpIHsNCiAgICAgICAgcmV0dXJuIG5leHQoeyBwYXRoOiAiLyIgfSk7DQogICAgfQ0KICAgIHJldHVybiBuZXh0KCk7DQp9KTsNCmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsNCg=="},{"version":3,"file":"C:\\Users\\Elvan\\Documents\\GitHub\\web\\vue-typescript\\src\\router\\index.ts","sourceRoot":"","sources":["C:\\Users\\Elvan\\Documents\\GitHub\\web\\vue-typescript\\src\\router\\index.ts"],"names":[],"mappings":"AAAA,OAAO,OAAO,MAAM,kBAAkB,CAAA;AACtC,OAAO,GAAG,MAAM,KAAK,CAAA;AACrB,OAAO,SAAmE,MAAM,YAAY,CAAA;AAE5F,OAAO,IAAI,MAAM,mBAAmB,CAAA;AAEpC,GAAG,CAAC,GAAG,CAAC,SAAS,CAAC,CAAA;AAElB,IAAM,MAAM,GAAuB;IACjC;QACE,IAAI,EAAE,GAAG;QACT,IAAI,EAAE,MAAM;QACZ,SAAS,EAAE,IAAI;KAChB;IACD;QACE,IAAI,EAAE,QAAQ;QACd,IAAI,EAAE,OAAO;QACb,6BAA6B;QAC7B,mEAAmE;QACnE,kDAAkD;QAClD,SAAS,EAAE,cAAM,OAAA,MAAM,CAAC,+BAA+B,CAAC,oBAAoB,CAAC,EAA5D,CAA4D;KAC9E;IACD;QACE,IAAI,EAAE,QAAQ;QACd,IAAI,EAAE,OAAO;QACb,SAAS,EAAE,cAAM,OAAA,MAAM,CAAC,+BAA+B,CAAC,oBAAoB,CAAC,EAA5D,CAA4D;KAC9E;IACD;QACE,IAAI,EAAE,WAAW;QACjB,IAAI,EAAE,UAAU;QAChB,SAAS,EAAE,cAAM,OAAA,MAAM,CAAC,+BAA+B,CAAC,uBAAuB,CAAC,EAA/D,CAA+D;KACjF;CACF,CAAA;AAED,IAAM,MAAM,GAAG,IAAI,SAAS,CAAC;IAC3B,IAAI,EAAE,SAAS;IACf,IAAI,EAAE,OAAO,CAAC,GAAG,CAAC,QAAQ;IAC1B,MAAM,QAAA;CACP,CAAC,CAAA;AAGF,MAAM,CAAC,UAAU,CAAC,UAAC,EAAS,EAAE,IAAW,EAAE,IAAyB;IAClE,IAAM,QAAQ,GAAG,UAAC,MAA2B,EAAE,GAAW;QACxD,MAAM,GAAG,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC;QAEvC,OAAO,OAAO,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,UAAU,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC1F,CAAC,CAAA;IAED,IAAM,YAAY,GAAY,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,UAAC,CAAc,IAAK,OAAA,QAAQ,CAAC,CAAC,EAAE,cAAc,CAAC,EAA3B,CAA2B,CAAC,CAAC;IAC/F,IAAM,UAAU,GAAY,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,UAAC,CAAc,IAAK,OAAA,QAAQ,CAAC,CAAC,EAAE,YAAY,CAAC,EAAzB,CAAyB,CAAC,CAAC;IAE3F,mDAAmD;IACnD,qBAAqB;IACrB,SAAS;IACT,sBAAsB;IACtB,IAAI;IAEJ,sCAAsC;IACtC,0BAA0B;IAC1B,SAAS;IACT,YAAY;IACZ,IAAI;IAEJ,IAAG,YAAY,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE;QACrC,OAAO,IAAI,CAAC,EAAC,IAAI,EAAE,QAAQ,EAAC,CAAC,CAAC;KAC/B;SAAM,IAAI,OAAO,CAAC,OAAO,EAAE,IAAI,UAAU,EAAE;QAC1C,OAAO,IAAI,CAAC,EAAC,IAAI,EAAE,GAAG,EAAC,CAAC,CAAC;KAC1B;IAED,OAAO,IAAI,EAAE,CAAC;AAChB,CAAC,CAAC,CAAA;AAEF,eAAe,MAAM,CAAA","sourcesContent":["import Session from '@/common/Session'\nimport Vue from 'vue'\nimport VueRouter, { NavigationGuardNext, Route, RouteConfig, RouteRecord } from 'vue-router'\nimport { component } from 'vue/types/umd'\nimport Home from '../views/Home.vue'\n\nVue.use(VueRouter)\n\nconst routes: Array<RouteConfig> = [\n  {\n    path: '/',\n    name: 'Home',\n    component: Home\n  },\n  {\n    path: '/about',\n    name: 'About',\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/About.vue')\n  },\n  {\n    path: '/login',\n    name: 'Login',\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/Login.vue')\n  },\n  {\n    path: '/register',\n    name: 'Register',\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/Register.vue')\n  }\n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\n\n\nrouter.beforeEach((to: Route, from: Route, next: NavigationGuardNext) => {\n  const validate = (record: Route | RouteRecord, key: string) => {\n    record = record === null ? to : record;\n\n    return typeof record.meta[key] === \"function\" ? record.meta[key](to) : record.meta[key];\n  }\n\n  const requiredAuth: boolean = to.matched.some((r: RouteRecord) => validate(r, \"requiredAuth\"));\n  const deniedAuth: boolean = to.matched.some((r: RouteRecord) => validate(r, \"deniedAuth\"));\n\n  // if(localStorage.getItem('currentUser') != null){\n  //   loggedIn = true;\n  // }else{\n  //   loggedIn = false;\n  // }\n\n  // if(to.name == 'Login' && loggedIn){\n  //   next({name: 'Home'});\n  // }else{\n  //   next();\n  // }\n\n  if(requiredAuth && !Session.isLogin()) {\n    return next({path: \"/login\"});\n  } else if (Session.isLogin() && deniedAuth) {\n    return next({path: \"/\"});\n  }\n\n  return next();\n})\n\nexport default router\n"]}]}